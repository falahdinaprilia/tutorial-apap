<!DOCTYPE html>
<html xmlns:th="http://wwww.thymelaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Menu</title>
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>
</head>
<body>
<object th:replace="fragments/fragment :: navbar (pageTitle = 'Add Menu')"></object>
    <h3> Tambah Produk </h3>
    <form class="form-control" th:action="@{/menu/add}" th:object="${menu}" method="POST">
        <input type="hidden" th:field="*{restoran}" />
        <table id="myTable" class=" table-sm-responsive order-list">
            <thead>
            <tr>
                <th>Nama</th>
                <th>Deskripsi</th>
                <th>Harga</th>
                <th>Durasi Masak</th>
                <th><button type="button" class="btn btn-sm btn-primary" id="addrow">Add Row</button></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><input type="text" name="nama" /></td>
                <td><input type="text" name="deskripsi" /></td>
                <td><input type="number" name="harga" /></td>
                <td><input type="number" name="durasiMasak" /></td>
                <td><button type="button" class="btn btn-sm btn-danger">Hapus</button></td>
            </tr>
            </tbody>
        </table>
        <br>
        <button type="submit" class="btn btn-primary"> Submit </button>
    </form>
</body>
<script>
    $(document).ready(function () {
        var counter = 0;

        $("#addrow").on("click", function () {
            var newRow = $("<tr>");
            var cols = "";

            cols += '<td><input type="text" name="nama" /></td>';
            cols += '<td><input type="text" name="deskripsi" /></td>';
            cols += '<td><input type="number" name="harga" /></td>';
            cols += '<td><input type="number" name="durasiMasak" /></td>';

            cols += '<td><button type="button" class="btn btn-sm btn-danger ibtnDel">Hapus</button></td>';
            newRow.append(cols);
            $("table.order-list").append(newRow);
            counter++;
        });



        $("table.order-list").on("click", ".ibtnDel", function (event) {
            $(this).closest("tr").remove();
            counter -= 1
        });


    });

</script>
</html>